<!doctype html>
<html lang="en" ng-app="myApp">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
      integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="css/style.css" />

    <title>Curbs</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.png" />
  </head>

  <body ng-controller="mainController" ng-init="load()">
    <!-- navigation section -->
    <div class="topnav" id="myTopnav">
      <div class="container">
        <a ng-click="home()" href="">Home</a>

        <a href="#!/reports2">Database</a>

        <a href="#!/search">Search</a>

        <a href="#!/register" ng-if="!role">Register</a>
        <a href="#!/login" ng-if="!role">Login</a>

        <a href="" ng-if="role" ng-click="logout()">Logout</a>

        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
          <i class="fa fa-bars"></i>
        </a>
      </div>
    </div>

    <!-- dynamic content -->
    <div ng-view></div>

    <!-- footer section -->
    <div id="footer">Copyright Â© 2023. All rights reserved</div>

    <script
      src="https://code.jquery.com/jquery-3.6.4.min.js"
      integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="https://code.angularjs.org/1.8.2/angular-route.min.js"></script>

    <script>
      let myApp = angular.module("myApp", ["ngRoute"]);
      myApp.run(function ($rootScope) {
        $rootScope.email;
        $rootScope.role = false;
        $rootScope.admin = false;
      });

      myApp.config(function ($routeProvider) {
        $routeProvider
          .when("/", {
            templateUrl: "/views/content.html",
            controller: "contentController",
          })
          .when("/form", {
            templateUrl: "/views/form.html",
            controller: "formController",
          })
          .when("/register", {
            templateUrl: "/views/register.html",
            controller: "registerController",
          })
          .when("/login", {
            templateUrl: "/views/login.html",
            controller: "loginController",
          })
          .when("/reports?", {
            templateUrl: "/views/reports.html",
            controller: "reportsController",
          })
          .when("/search", {
            templateUrl: "/views/search.html",
            controller: "searchController",
          })
          .when("/userhome", {
            templateUrl: "/views/userhome.html",
            controller: "userhomeController",
          })
          .when("/confirmation", {
            templateUrl: "/views/confirmation.html",
            controller: "confirmationController",
          })
          .when("/search#results", {
            templateUrl: "/views/search.html",
            controller: "searchController",
          })
          .when("/reports2", {
            templateUrl: "/views/reports2.html",
            controller: "reports2Controller",
          });
      });

      /* Toggles "responsive" class to topnav when the user clicks on the icon */
      function myFunction() {
        var x = document.getElementById("myTopnav");
        if (x.className === "topnav") {
          x.className += " responsive";
        } else {
          x.className = "topnav";
        }
      }
    </script>

    <!-- controllers -->
    <script src="/controllers/main.js"></script>
    <script src="/controllers/content.js"></script>
    <script src="/controllers/form.js"></script>
    <script src="/controllers/register.js"></script>
    <script src="/controllers/login.js"></script>
    <script src="/controllers/reports.js"></script>
    <script src="/controllers/reports2.js"></script>
    <script src="/controllers/search.js"></script>
    <script src="/controllers/userhome.js"></script>
    <script src="/controllers/confirmation.js"></script>
  </body>
</html>
